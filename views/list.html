{% extends 'main_layout.html' %}
{% block title %}Posts{% endblock %}
{% block subhead %}<link href="/css/list.css" rel="stylesheet">{% endblock %}
{% block content %}
{% for post in posts %}
<div class="post-inner">
    <header class="post-header">
        <h3>
            <a href="/post/{{ post.id }}" class="post-title">{{ post.title }}</a>
        </h3>
        <div>
            <span class="glyphicon glyphicon-calendar"></span>
            <span class="post-date">{{ post.created_at }}</span>
        </div>
    </header>
    <div class="post-entry">
        {{ post.content }}
    </div>
    <p class="more"><a href="/post/{{ post.id }}">阅读全文 »</a></p>
    <div class="post-footer">
        <div class="post-tag tagcloud">
            <span class="glyphicon glyphicon-tags">&nbsp;</span>
            {% for tag in post.tags %}
                <span class="label label-default">{{ tag }}</span>
            {% endfor %}
        </div>
        <div class="post-read"><span class="glyphicon glyphicon-eye-open"></span>&nbsp;阅读({{ post.pv }})</div>
    
    </div>
</div>
{% endfor %}

{% if pageNumbers.length > 1%}
<ul class="pagination">
	<li><a href="/?page=1">&laquo;</a></li>
    {% for number in pageNumbers %}
        {% if number === 0 %}
            <li class="disabled"><a href="#">...</a></li>
        {% else %}
            {% if number === page %}
            <li class="active"><a href="/?page={{ number }}">{{ number }}</a></li>
            {% else %}
            <li><a href="/?page={{ number }}">{{ number }}</a></li>
            {% endif %}
        {% endif %}
    {% endfor %}
	<li><a href="/?page={{ pageNumbers[pageNumbers.length - 1] }}">&raquo;</a></li>
</ul>
{% endif %}
{% endblock %}